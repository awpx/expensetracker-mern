{"version":3,"sources":["context/AppReducer.js","context/GlobalState.js","components/AddTransaction.js","utils/format.js","components/Balance.js","components/Header.js","components/IncomeExpense.js","components/Transaction.js","components/TransactionList.js","App.js","index.js"],"names":["state","action","type","loading","transactions","payload","filter","transaction","_id","error","initialState","GlobalContext","createContext","GlobalContextProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","response","id","delete","config","headers","post","Provider","value","getTransactions","deleteTransaction","addTransaction","AddTransaction","useState","text","setText","amount","setAmount","useContext","className","onSubmit","e","preventDefault","newTransaction","Math","floor","random","htmlFor","onChange","target","placeholder","required","numberWithDot","x","toString","replace","Balance","total","map","reduce","acc","item","Header","IncomeExpense","amounts","income","expense","Transaction","sign","abs","onClick","TransactionList","useEffect","key","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.499311f7.chunk.js","sourcesContent":["export default (state, action) => {\n  switch(action.type) {\n    case 'GET_TRANSACTIONS':\n      return {\n        ...state,\n        loading: false,\n        transactions: action.payload\n      }\n\n    case 'DELETE_TRANSACTION':\n      return {\n        ...state,\n        transactions: state.transactions.filter(\n          transaction => transaction._id !== action.payload\n        )\n      }\n    \n    case 'ADD_TRANSACTION':\n      return {\n        ...state,\n        transactions: [...state.transactions, action.payload]\n      }\n\n    case 'TRANSACTION_ERROR':\n      return {\n        ...state,\n        error: action.payload\n      }\n\n    default:\n      return state\n  }\n}","import React, { createContext, useReducer } from 'react'\nimport AppReducer from './AppReducer';\nimport axios from 'axios'\n\nconst initialState = {\n  transactions: [],\n  error: null,\n  loading: true,\n}\n\n//context\nexport const GlobalContext = createContext(initialState)\n\nexport const GlobalContextProvider = ({ children }) => {\n  const [ state, dispatch ] = useReducer(AppReducer, initialState);\n\n  //action\n  async function getTransactions() {\n    try {\n      const res = await axios.get('/api/v1/transactions')\n\n      dispatch({\n        type: 'GET_TRANSACTIONS',\n        payload: res.data.data\n      })\n    } catch (error) {\n      dispatch({\n        type: 'TRANSACTION_ERROR',\n        payload: error.response.data.error\n      })\n    }\n  }\n\n  async function deleteTransaction(id) {\n    try {\n      await axios.delete(`/api/v1/transactions/${id}`)\n\n      dispatch({\n        type: 'DELETE_TRANSACTION',\n        payload: id\n      })\n    } catch (error) {\n      dispatch({\n        type: 'TRANSACTION_ERROR',\n        payload: error.response.data.error\n      })\n    }\n\n  }\n\n  async function addTransaction(transaction) {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }\n\n    try {\n      const res = await axios.post(`/api/v1/transactions/`, transaction, config)\n\n      dispatch({\n        type: 'ADD_TRANSACTION',\n        payload: res.data.data\n      })\n    } catch (error) {\n      dispatch({\n        type: 'TRANSACTION_ERROR',\n        payload: error.response.data.error\n      })\n    }\n  }\n\n  return (\n    <GlobalContext.Provider value={{\n      transactions: state.transactions,\n      error: state.error,\n      loading: state.loading,\n      getTransactions,\n      deleteTransaction,\n      addTransaction\n    }}>\n      {children}\n    </GlobalContext.Provider>\n  )\n}\n\n","import React, { useState, useContext } from 'react'\nimport { GlobalContext } from '../context/GlobalState'\n\nexport const AddTransaction = () => {\n  const [ text, setText ] = useState('')\n  const [ amount, setAmount ] = useState(0)\n  \n  const { addTransaction } = useContext(GlobalContext)\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const newTransaction = {\n      id: Math.floor(Math.random() * 10000000),\n      text,\n      amount: +amount,\n    }\n\n    addTransaction(newTransaction)\n\n    setText('')\n    setAmount(0)\n  }\n\n  return (\n    <div className='addtransaction'>\n      <h3>Tambah Transaksi Baru</h3>\n      <form onSubmit={onSubmit}>\n        <div className='form-control'>\n          <label htmlFor='text'>Keterangan</label>\n          <input type='text' value={text} onChange={(e) => setText(e.target.value)} placeholder='Masukan keterangan...' required />\n        </div>\n        <div className='form-control'>\n          <label htmlFor='amount'>\n            Jumlah Uang <br />\n            <small><i>\n            Gunakan tanda (-) didepan untuk pengeluaran. <br />\n            Contoh: -5000 (pengeluaran), 5000 (pemasukan)\n            </i></small>\n          </label>\n          <input type='number' value={amount} onChange={(e) => setAmount(e.target.value)} placeholder='Masukan jumlah uang...' />\n        </div>\n        <button className='btn'>Tambah Transaksi</button>\n      </form>\n    </div>\n  )\n}\n","export function numberWithDot(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n}","import React, { useContext } from 'react'\nimport { GlobalContext } from '../context/GlobalState'\nimport { numberWithDot } from '../utils/format'\n\nexport const Balance = () => {\n  const { transactions } = useContext(GlobalContext)\n\n  const amounts = transactions.map(transaction => transaction.amount)\n  const total = amounts.reduce((acc, item) => (acc += item), 0)\n\n  return (\n    <div className='balance'>\n      <h4>Saldo Anda : </h4>\n      <h1>Rp {numberWithDot(total)}</h1>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport const Header = () => {\n  return (\n    <div>\n      <h2>Catatan Keuangan</h2>\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { GlobalContext } from '../context/GlobalState'\nimport { numberWithDot } from '../utils/format'\n\nexport const IncomeExpense = () => {\n  const { transactions } = useContext(GlobalContext)\n\n  const amounts = transactions.map(transaction => transaction.amount)\n\n  const income = amounts\n    .filter(item => item > 0)\n    .reduce((acc, item) => (acc += item), 0)\n    \n\n  const expense = ( amounts\n    .filter(item => item < 0)\n    .reduce((acc, item) => (acc += item), 0) * -1)\n\n  return (\n    <div className='inc-exp-container'>\n      <div>\n        <h4>Pemasukan</h4>\n        <p className='money plus'>+Rp {numberWithDot(income)}</p>\n      </div>\n      <div>\n        <h4>Pengeluaran</h4>\n        <p className='money minus'>+Rp {numberWithDot(expense)}</p>\n      </div>\n\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport { GlobalContext } from '../context/GlobalState'\nimport { numberWithDot } from '../utils/format'\n\nexport const Transaction = ({ transaction }) => {\n  const { deleteTransaction } = useContext(GlobalContext)\n\n  const sign = transaction.amount < 0 ? '-' : '+'\n\n  \n  return ( \n    <div className='transaction'>\n      <li className={transaction.amount < 0 ? 'minus' : 'plus'}>\n        {transaction.text} <span>{sign}Rp {numberWithDot(Math.abs(transaction.amount))}</span>\n        <button className='delete-btn' onClick={() => deleteTransaction(transaction._id)} >X</button>\n      </li>\n    </div>\n  )\n}\n","import React, { useContext, useEffect } from 'react'\nimport { GlobalContext } from '../context/GlobalState'\nimport { Transaction } from './Transaction'\n\nexport const TransactionList = () => {\n  const { transactions, getTransactions } = useContext(GlobalContext)\n\n  useEffect(() => {\n    getTransactions()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className='transactionlist'>\n      <h3>Riwayat</h3>\n      <ul className='list'>\n        {transactions.map(transaction => (\n          <Transaction \n            key={transaction.id} \n            transaction={transaction} \n          /> \n        ))}\n\n        \n      </ul>\n    </div>\n  )\n}\n","import React from 'react'\nimport './App.css'\nimport { AddTransaction } from './components/AddTransaction'\nimport { Balance } from './components/Balance'\nimport { Header } from './components/Header'\nimport { IncomeExpense } from './components/IncomeExpense'\nimport { TransactionList } from './components/TransactionList'\nimport { GlobalContextProvider } from './context/GlobalState'\n\nfunction App() {\n  return (\n    <GlobalContextProvider>\n      <Header />\n      <div className='container'>\n        <Balance />\n        <IncomeExpense />\n        <TransactionList />\n        <AddTransaction />\n      </div>\n    </GlobalContextProvider>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}